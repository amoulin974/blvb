{% extends 'base.html.twig' %}

{% block body %}
    <div class="container mx-auto p-4">

        <h1 class="text-3xl font-bold mb-6">Pilotage : {{ saison.nom }} </h1>

        {# --- LE STEPPER DAISYUI --- #}
        <ul class="steps steps-vertical lg:steps-horizontal w-full mb-8">

            {# Étape 1 : Config #}
            <li class="step {{ current_step == 'configuration' or current_step == 'poules' or current_step == 'calendrier' or current_step == 'matchs' ? 'step-primary' : '' }}">
                <a href="{{ path('admin_saison_wizard_dispatch', {id: saison.id, step: 'configuration'}) }}">
                    Architecture
                </a>
            </li>

            {# Étape 2 : Poules #}
            <li class="step {{ current_step == 'poules' or current_step == 'calendrier' or current_step == 'matchs' ? 'step-primary' : '' }}">
                <a href="{{ path('admin_saison_wizard_dispatch', {id: saison.id, step: 'poules'}) }}">
                    Composition Poules
                </a>
            </li>

            {# Étape 3 : Journées #}
            <li class="step {{ current_step == 'calendrier' or current_step == 'matchs' ? 'step-primary' : '' }}">
                <a href="{{ path('admin_saison_wizard_dispatch', {id: saison.id, step: 'calendrier'}) }}">
                    Calendrier
                </a>
            </li>

            {# Étape 4 : Matchs #}
            <li class="step {{ current_step == 'matchs' ? 'step-primary' : '' }}">
                <a href="{{ path('admin_saison_wizard_dispatch', {id: saison.id, step: 'matchs'}) }}">
                    Génération Matchs
                </a>
            </li>
        </ul>

        {# --- LE CONTENU DYNAMIQUE --- #}
        <div class="bg-base-100 rounded-box shadow-lg p-6 border border-base-200">
{#            {% if current_step == 'configuration' %}#}
{#                {{ include('admin/phase_wizard/steps/_step1_config.html.twig') }}#}

{#            {% elseif current_step == 'poules' %}#}
{#                #}{# Ici tu inclus ton interface de Drag & Drop existante #}
{#                {{ include('admin/phase_wizard/steps/_step2_poules.html.twig') }}#}

{#            {% elseif current_step == 'calendrier' %}#}
{#                #}{# Ici le tableau des journées #}
{#                {{ include('admin/phase_wizard/steps/_step3_calendrier.html.twig') }}#}

{#            {% elseif current_step == 'matchs' %}#}
{#                #}{# L'outil de génération finale et résolution de conflits #}
{#                {{ include('admin/phase_wizard/steps/_step4_matchs.html.twig') }}#}
{#            {% endif %}#}
        </div>

        {# --- NAVIGATION BAS DE PAGE --- #}
        <div class="flex justify-between mt-6">
            <a href="#" class="btn btn-outline">Précédent</a>
            <a href="#" class="btn btn-primary">Étape Suivante</a>
        </div>

    </div>
{% endblock %}
